//====================================================================/
//　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　/
// artisoc                                                            /
//                                                                    /
//====================================================================/

Version = 4.0;



//-------------------------------------------------------
// Component Tree
//-------------------------------------------------------
UNIVERSE {
}


//-------------------------------------------------------
// Agent Variable Initial Data
//-------------------------------------------------------
Initial_Value {
}


//-------------------------------------------------------
// Agent Rule
//-------------------------------------------------------
#begin_rule UNIVERSE
Univ_Init{
	ClearConsoleScreen()
}

Univ_Step_Begin{
	matrix()
}

sub matrix(){
	dim x(3) as Double
	dim y(3) as Double
	dim b(3) as Double
	dim R(3,3) as Double
	dim i as Integer
	dim theta as Double
	dim j as Integer

	x(0) = Cos(PI()/6)
	x(1) = Sin(PI()/6)
	x(2) = 0

	for i = 0 to 2
		PrintLn("x("&i&") : " & x(i))
	next i

	theta = calculate_theta()

	b(0) = 0
	b(1) = 1
	b(2) = 0

	R(0,0) = b(0)^2 * (1 - Cos(theta)) + Cos(theta)
	R(0,1) = b(0) * b(1) * (1 - Cos(theta)) - b(2) * Sin(theta)
	R(0,2) = b(2) * b(0) * (1 - Cos(theta)) + b(1) * Sin(theta)

	R(1,0) = b(0) * b(1) * (1 - Cos(theta)) + b(2) * Sin(theta)
	R(1,1) = b(1)^2 * (1 - Cos(theta)) + Cos(theta)
	R(1,2) = b(1) * b(2) * (1 - Cos(theta)) - b(0) * Sin(theta)

	R(2,0) = b(2) * b(0) * (1 - Cos(theta)) - b(1) * Sin(theta)
	R(2,1) = b(1) * b(2) * (1 - Cos(theta)) + b(0) * Sin(theta)
	R(2,2) = b(2)^2 * (1 - Cos(theta)) + Cos(theta)

	println("")
	for j = 0 to 2
	for i = 0 to 2
		PrintLn("R("&i&","&j&") : "&R(i,j))
	next i
	next j
	println("")
	
	for i = 0 to 2
		y(i) = x(0) * R(i,0) + x(1) * R(i,1) + x(2) * R(i,2)
		PrintLn("y("&i&") : " & y(i))
	next i


}

Function calculate_theta() as Double{
	return DegreeToRad(90)
}

Univ_Step_End{
	ExitSimulation()
}

Univ_Finish{

}
#end_rule UNIVERSE




//-------------------------------------------------------
// Simulation Definition Division
//-------------------------------------------------------
Single_Simulation {
    Step_Max = 0;
    Time_Max = 0;
    End_Condition = "";
    Exec_Wait = 1;
    Exec_Wait_Max = 0;
    Random_Generator = Java_Standard;
    Exec_Order = Random;
    Exec_Order_Random_First_Step_Only = No;
    Random_Seed = 0;
    Redraw_Timing = Step;
    Redraw_Interval = 1;
    Garbage_Interval = 0;
}


//-------------------------------------------------------
// Simulation Loop Definition Division
//-------------------------------------------------------
Repeat_Simulation {
    Value_Change = None;
    Initial_Value_Change_None {
        Repeat_Max = 1;
    }
}


//-------------------------------------------------------
// Control Panel Definition Division
//-------------------------------------------------------
Control_Panel {
    Display_Area = 0, 0, 198, 66;
    Display_Type = 0;
}


//-------------------------------------------------------
// Space Initial Value Definition Divsion
//-------------------------------------------------------
Space_Initial {
}


//-------------------------------------------------------
// Other Miscellaneous Data Definition Division
//-------------------------------------------------------
Others_Data {
    Indent = 4;
    Rule_Colored = Yes;
    Rule_LineNo = Yes;
    Window_Hide_Run = 1;
    Debug_Position_x = 75;
    Debug_Position_y = 75;
    Debug_Size_x = 400;
    Debug_Size_y = 200;
    Console_Position_x = 1219;
    Console_Position_y = -5;
    Console_Size_x = 761;
    Console_Size_y = 860;
    Componen_Tree_Position_x = 2;
    Componen_Tree_Position_y = 2;
    Componen_Tree_Size_x = 250;
    Componen_Tree_Size_y = 400;
    Console_Background_Color = 16777215;
    Console_Foreground_Color = 255;
    Console_DisplayLines_Max = 500;
    plug_in_module_name = "";
    Font_Name = "Dialog";
    Font_Char_Set = 0;
    Font_Size = 14.0;
    Font_Style = 0;
    Font_Color = 0, 0, 0;
    Font_Background_Color = 0, 0, 0;
}


//-------------------------------------------------------
// Network Information Definition Division
//-------------------------------------------------------
Network_Info {
    Global_Space_Area = 0, 0, 100, 100;
    Local_Space_Info {
    }
}


//-------------------------------------------------------
// Window Location Definition Division
//-------------------------------------------------------
Window_Rectangle {
    Window_Name = Main_Window, -11, -11, 1942, 1042;
    Window_Name = Artisoc_Help_Window, 10, 10, 400, 300;
}


//-------------------------------------------------------
// Help Favorite Division
//-------------------------------------------------------
Help_Favorite {
}
